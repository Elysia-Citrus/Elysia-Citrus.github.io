<div id="live2d-container">
    <canvas id="live2d" width="800" height="800"></canvas>
</div>

<style>
    /* 这里控制小人的位置和大小 */
    #live2d-container {
        position: fixed;
        left: -50px;  /* 调整水平位置：负数向左，正数向右 */
        bottom: -50px; /* 调整垂直位置 */
        width: 300px; /* 容器宽度 */
        height: 300px; /* 容器高度 */
        z-index: 9999; /* 保证显示在最上层 */
        pointer-events: none; /* 让鼠标能穿透透明区域点击背后的网页 */
    }
    #live2d {
        width: 100%;
        height: 100%;
        pointer-events: auto; /* 但小人本体可以接受点击 */
    }
</style>

<script is:inline src="https://cubism.live2d.com/sdk-web/cubismcore/live2dcubismcore.min.js"></script>

<script is:inline src="https://cdn.jsdelivr.net/npm/pixi.js@7.x/dist/pixi.min.js"></script>

<script is:inline src="https://cdn.jsdelivr.net/npm/pixi-live2d-display/dist/index.min.js"></script>

<script is:inline>
    (async function() {
        // 等待库加载完成
        if (!window.PIXI || !window.PIXI.live2d) {
             console.error('Live2D 库加载失败');
             return;
        }

        const PIXI = window.PIXI;
        // 注册中间件
        window.PIXI.live2d.Live2DModel.registerTicker(PIXI.Ticker);

        // 初始化 Pixi 应用 (透明背景)
        const app = new PIXI.Application({
            view: document.getElementById('live2d'),
            autoStart: true,
            backgroundAlpha: 0, // 透明背景
            resizeTo: document.getElementById('live2d-container')
        });

        // --- 核心配置区 ---
        // 把这里换成你自己的 model3.json 路径
        const modelPath = "/live2d/Miss/Miss.model3.json"; 
        
        try {
            // 加载模型
            const model = await PIXI.live2d.Live2DModel.from(modelPath);

            // 缩放模型 (根据需要调整数字，比如 0.1 或 0.5)
            model.scale.set(0.2); 

            // 自动居中
            model.x = app.renderer.width / 2;
            model.y = app.renderer.height / 2;
            model.anchor.set(0.5, 0.5);

            // 开启交互 (鼠标跟随等)
            model.interactive = true;

            // 添加到舞台
            app.stage.addChild(model);
            console.log("Live2D 加载成功！");

        } catch (e) {
            console.error("Live2D 加载出错啦:", e);
        }
    })();
</script>